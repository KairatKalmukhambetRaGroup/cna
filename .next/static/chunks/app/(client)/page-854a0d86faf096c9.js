(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[766],{6311:function(e,s,a){Promise.resolve().then(a.bind(a,9457))},9457:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var t=a(9268),i=a(6006);a(267);var l=a(3355),r=a(5584),n=a(7316),c=a(4214);let o={housing:"Квартиру",rooms:[],region:"",price:{from:"",to:""}};var u=e=>{let{handleSubmit:s}=e,[a,u]=i.useState(o),d=(e,s)=>{u({...a,[e]:s}),"housing"===e&&"Коммерческую недвижимость"===s&&u({...a,rooms:[],housing:s})},[m,p]=(0,i.useState)(null),h=async()=>{let{data:e}=await c.Z.get("/api/regions",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});p(e.map(e=>e.short))};return(0,i.useEffect)(()=>{m||h()},[m]),(0,t.jsx)("div",{id:"filter",className:"simple",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"content",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(a)},children:[(0,t.jsx)("div",{className:"regular-14-16",children:"Купить"}),(0,t.jsx)(l.Z,{mobile:!0,name:"housing",options:["Квартиру","Дом","Коммерческую недвижимость"],value:a.housing,handleChange:d}),(0,t.jsx)(l.Z,{name:"region",placeholder:"Не важно",options:m,value:a.region,handleChange:d}),"Коммерческую недвижимость"!==a.housing&&(0,t.jsx)(r.Z,{name:"rooms",label:"- комн.",value:a.rooms,handleChange:d}),(0,t.jsx)(n.Z,{name:"price",label:"Цена",param:"тг",value:a.price,handleChange:d}),(0,t.jsx)("input",{type:"submit",className:"submit-btn",value:"Найти"})]})})})})};a(7544),a(2742);var d=a(4058),m=a(6008),p=e=>{let{post:s}=e,a=(0,m.useRouter)();return(0,t.jsxs)("div",{className:"postsmall",onClick:e=>{e.preventDefault(),a.push("/posts/".concat(s._id))},children:[(0,t.jsxs)("div",{className:"postimage",children:[s.images&&s.images.length>0?(0,t.jsx)("img",{src:"uploads/".concat(s.images[0]),alt:""}):(0,t.jsx)("img",{src:"/noimage.png",alt:"noimage"}),(0,t.jsxs)("div",{className:"price",children:[(0,d.yN)(s.price)," 〒"]})]}),"apartment"===s.housing.slug&&(0,t.jsx)("div",{className:"title",children:(0,d.i2)(s)})]})},h=a(3237),v=a(3244),x=()=>{let e=(0,m.useRouter)(),[s,a]=(0,i.useState)(null),l=async()=>{let{data:e}=await c.Z.get("/api/posts",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});a(e)};(0,i.useEffect)(()=>{s||l()},[s]);let r=async s=>{let a="";switch(s.housing){case"Дом":a="house";break;case"Коммерческую недвижимость":a="commercial";break;default:a="apartment"}let t=(0,d.rW)({...s,housing:a});e.push("/posts".concat(t))};return(0,t.jsxs)("div",{id:"home",children:[(0,t.jsx)(u,{handleSubmit:r}),(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"medium-24-28 text-black",children:"Последние предложения недвижимости"}),(0,t.jsxs)("div",{className:"smallposts",children:[(0,t.jsxs)("div",{className:"apartments",children:[(0,t.jsx)("div",{className:"medium-24-28 text-black",children:"Квартиры"}),(0,t.jsx)("div",{className:"row",children:s&&s.apartments?s.apartments.map((e,s)=>(0,t.jsxs)("div",{className:"col",children:[(0,t.jsx)(p,{post:e}),(0,t.jsx)(v.Z,{post:e})]},s)):(0,t.jsx)(h.Z,{})})]}),(0,t.jsxs)("div",{className:"houses",children:[(0,t.jsx)("div",{className:"medium-24-28 text-black",children:"Дома"}),(0,t.jsx)("div",{className:"row",children:s&&s.houses?s.houses.map((e,s)=>(0,t.jsxs)("div",{className:"col",children:[(0,t.jsx)(p,{post:e}),(0,t.jsx)(v.Z,{post:e})]},s)):(0,t.jsx)(h.Z,{})})]})]}),(0,t.jsxs)("div",{id:"about",children:[(0,t.jsx)("div",{className:"medium-24-28 text-black",children:"О нас"}),(0,t.jsxs)("div",{className:"regular-16-20 text-black",children:["Lorem ipsum dolor sit amet. Et nobis placeat qui perspiciatis voluptas qui consequatur voluptas est quisquam veniam est nemo natus non delectus nemo. Ut galisum voluptatem ab voluptatem quisquam a dicta nemo 33 blanditiis tenetur id odio saepe ut autem facere hic facere culpa. Ut dolorem nesciunt ut repudiandae itaque qui temporibus assumenda ut aliquid iusto et quod deleniti et harum soluta?",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"Eum voluptatem dolorem et doloribus nesciunt aut excepturi ipsa ut sequi reiciendis aut ullam quidem aut labore laborum sed possimus voluptates! Et ratione quam qui omnis tempore quo dolores repellat ea exercitationem suscipit. Et fugit quis vel quaerat laborum et tenetur officia.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"Est sunt natus aut corrupti pariatur et odit quis nam perspiciatis tempora aut quia quia sed quam commodi. Et magni aliquam quo galisum autem aut veritatis nostrum et perferendis facilis rem illo fugiat ut amet dolores."]})]})]})]})}},5584:function(e,s,a){"use strict";var t=a(9268);a(8357),a(6006);let i=[1,2,3,4,5];s.Z=e=>{let{name:s="",label:a="",value:l=[],handleChange:r}=e,n=e=>{e.preventDefault();let a=e.currentTarget.dataset.value,t=[];Array.isArray(l)?t=[...l]:t.push(Number(l)),t.includes(Number(a))?t=t.filter(e=>Number(e)!==Number(a)):t.push(Number(a)),r(s,t)};return(0,t.jsxs)("div",{className:"input multinumber",children:[(0,t.jsx)("div",{className:"numbers",children:i.map((e,s)=>(0,t.jsx)("div",{className:"number ".concat(l.includes(Number(e))?"active":""),"data-value":e,onClick:n,children:e},s))}),(0,t.jsx)("label",{children:a})]})}},7316:function(e,s,a){"use strict";var t=a(9268);s.Z=e=>{let{name:s="",label:a="",value:i,param:l,handleChange:r,labeled:n=!1}=e,c=e=>{if(e){var s=e.toString().split(".");s[0]=s[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e=s.join(".")}return e},o=e=>{e.preventDefault();let a=e.currentTarget.dataset.pref,t=e.currentTarget.value.replace(/\s+/g,""),l="";for(let e=0;e<t.length;e++){let s=t[e];l+=s}r(s,{...i,[a]:l})};return(0,t.jsxs)("div",{className:"input number-range ".concat(n?"labeled":""),children:[a&&(0,t.jsx)("label",{children:a}),(0,t.jsx)("input",{type:"text",name:"".concat(s,"1"),"data-pref":"from",placeholder:"от",value:c(i.from),onChange:o}),(0,t.jsx)("div",{className:"hl"}),(0,t.jsx)("input",{type:"text",name:"".concat(s,"2"),"data-pref":"to",placeholder:"до",value:c(i.to),onChange:o}),l&&(0,t.jsx)("label",{className:"last",children:"м2"===l?(0,t.jsxs)(t.Fragment,{children:["м",(0,t.jsx)("sup",{children:"2"})]}):l})]})}},3355:function(e,s,a){"use strict";var t=a(9268),i=a(6006);a(8357),s.Z=e=>{let{mobile:s=!1,name:a="",placeholder:l=null,label:r="",value:n="",options:c=[],handleChange:o,labeled:u=!1}=e,[d,m]=i.useState(!1),p=e=>{e.preventDefault();let s=e.currentTarget.dataset.value;o(a,s),m(!1)};return(0,t.jsxs)("div",{className:"input select ".concat(u?"labeled":""," ").concat(s?"mobile":""),children:[(0,t.jsx)("label",{children:r}),(0,t.jsxs)("div",{className:"select",children:[(0,t.jsxs)("div",{className:"selected",onClick:e=>{m(!d)},children:[(0,t.jsx)("span",{className:"val",children:n||l}),(0,t.jsx)("i",{})]}),(0,t.jsxs)("div",{className:"options ".concat(d?"active":""),children:[l&&(0,t.jsx)("div",{className:"option ".concat(""===n?"active":""),"data-value":null,onClick:p,children:l}),c&&c.length>0&&c.map((e,s)=>(0,t.jsx)("div",{className:"option ".concat(e===n?"active":""),"data-value":e,onClick:p,children:e},s))]})]})]})}},3237:function(e,s,a){"use strict";var t=a(9268);a(9338),s.Z=()=>(0,t.jsx)("div",{className:"loading",children:(0,t.jsxs)("div",{className:"lds-roller",children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{})]})})},3244:function(e,s,a){"use strict";var t=a(9268),i=a(4058),l=a(7153),r=a.n(l),n=a(6008);s.Z=e=>{let{post:s}=e,a=(0,n.useRouter)();return(0,t.jsxs)("div",{className:"postcard",onClick:e=>{e.preventDefault(),a.push("/posts/".concat(s._id))},children:[(0,t.jsx)("div",{className:"postimage",children:s.images&&s.images.length>0?(0,t.jsx)("img",{src:"/uploads/".concat(s.images[0]),alt:"preview"}):(0,t.jsx)("img",{src:"/noimage.png",alt:"noimage"})}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)("div",{className:"top",children:[(0,t.jsx)("div",{className:"title",children:(0,i.i2)(s)}),(0,t.jsxs)("div",{className:"price",children:[s.price," 〒"]})]}),(0,t.jsxs)("div",{className:"addres",children:[s.region.name,", ",s.adress]}),s.description&&(0,t.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:r()(null==JSON?void 0:JSON.parse(null==s?void 0:s.description))}}),(0,t.jsx)("div",{className:"date",children:(0,i.ce)(s.createdAt)})]})]})}},4058:function(e,s,a){"use strict";a.d(s,{ce:function(){return i},i2:function(){return c},pQ:function(){return n},rW:function(){return r},yN:function(){return l}});let t=["янв.","февр.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],i=e=>{let s=new Date().getFullYear(),a=new Date(e),i=a.getDate(),l=a.getMonth(),r=a.getFullYear();return r===s?i+" "+t[l]:i+" "+t[l]+" "+r},l=e=>e>1e6?Math.round(e/1e5)/10+" млн.":e,r=e=>{let s="?";for(let a in e)if(Object.hasOwnProperty.call(e,a)){let t=e[a];t&&a&&("object"==typeof t?Array.isArray(t)?t.forEach(e=>{s.length>1&&(s+="&"),s+=a+"="+e}):(t.from&&(s.length>1&&(s+="&"),s+=a+"_from="+t.from),t.to&&(s.length>1&&(s+="&"),s+=a+"_to="+t.to)):(s.length>1&&(s+="&"),s+=a+"="+t))}return s},n=e=>{let s=decodeURI(e).replace(/\+/g," ").split("&"),a={};return s.forEach(e=>{let s=e.split("=");if(s[0].includes("_")){let e=s[0].split("_");a[e[0]]||(a[e[0]]={}),a[e[0]][e[1]]=s[1]}else if(a[s[0]]){if(!Array.isArray(a[s[0]])){let e=isNaN(a[s[0]])?a[s[0]]:Number(a[s[0]]);a[s[0]]=[],a[s[0]].push(e)}a[s[0]].push(isNaN(s[1])?s[1]:Number(s[1]))}else a[s[0]]=s[1]}),a},c=e=>{let s="";switch(e.housing.slug){case"apartment":s+="".concat(e.rooms,"-комнатная квартира"),e.area&&e.area.total&&(s+=", ".concat(e.area.total," м\xb2")),e.floor&&(s+=", ".concat(e.floor),e.floors&&(s+="/".concat(e.floors)),s+=" этаж");break;case"house":s+="".concat(e.rooms,"-комнатый дом"),e.area&&e.area.total&&(s+=", ".concat(e.area.total," м\xb2")),e.plot&&(s+=", ".concat(e.plot," сот."));break;case"commercial":s+="".concat(e.commercial.purpose),e.area&&e.area.total&&(s+=" - ".concat(e.area.total," м\xb2"))}return s}},267:function(){},7544:function(){},8357:function(){},9338:function(){},2742:function(){},6008:function(e,s,a){e.exports=a(794)}},function(e){e.O(0,[815,214,153,618,253,769,744],function(){return e(e.s=6311)}),_N_E=e.O()}]);