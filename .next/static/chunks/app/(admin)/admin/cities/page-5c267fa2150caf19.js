(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[700],{5530:function(e,s,t){Promise.resolve().then(t.bind(t,5001))},5001:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var i=t(7437),n=t(73),a=t(2265),c=t(9222);t(3511);var l=e=>{let{formData:s,setFormData:t,clear:n,handleSubmit:a}=e;return(0,i.jsxs)("form",{id:"cityForm",className:"".concat(s._id?"edit":""),onSubmit:a,children:[(0,i.jsx)("div",{className:"heading",children:s._id?"Изменить Город":"Добавить Город"}),(0,i.jsxs)("div",{className:"inputs",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Название"}),(0,i.jsx)("input",{type:"text",name:"name",value:s.name,onChange:e=>{let{name:i,value:n}=e.currentTarget;t({...s,[i]:n})}})]}),(0,i.jsx)("div",{className:"btn clear",onClick:n,children:s._id?"Отменить":"Очистить"}),(0,i.jsx)("input",{className:"btn save",type:"submit",value:"".concat(s._id?"Изменить":"Добавить")})]})]})},r=t(1396),d=t.n(r);let o={name:""};var u=()=>{let[e,s]=(0,a.useState)(o),[t,r]=(0,a.useState)(null),u=async()=>{let{data:e}=await c.Z.get("/api/cities",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});r(e)};(0,a.useEffect)(()=>{t||u()},[t]);let h=e=>{s(e)},x=async s=>{if(s.preventDefault(),e._id){let{data:s}=await c.Z.patch("/api/cities",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});r(s)}else{let{data:s}=await c.Z.post("/api/cities",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});r(s)}j(s)},j=e=>{e.preventDefault(),s(o)};return(0,i.jsxs)("div",{id:"cities",children:[(0,i.jsx)("div",{className:"heading",children:"Города"}),(0,i.jsx)(l,{formData:e,setFormData:s,clear:j,handleSubmit:x}),(0,i.jsx)("div",{className:"cities",children:t?t.length>0?(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"№"}),(0,i.jsx)("th",{children:"Название"}),(0,i.jsx)("th",{children:"Действие"})]})}),(0,i.jsx)("tbody",{children:t.map((e,s)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:Number(s)+1}),(0,i.jsx)("td",{children:e.name}),(0,i.jsxs)("td",{className:"actions",children:[(0,i.jsx)(d(),{className:"action",href:"/admin/cities/".concat(e._id),children:"Районы"}),(0,i.jsx)("div",{className:"action",onClick:s=>{s.preventDefault(),h(e)},children:"Изменить"})]})]},s))})]}):(0,i.jsx)("div",{className:"none",children:"NONE"}):(0,i.jsx)(n.Z,{})})]})}},73:function(e,s,t){"use strict";var i=t(7437);t(3733),s.Z=e=>{let{small:s=!1}=e;return(0,i.jsx)("div",{className:"loading ".concat(s?"small":""),children:(0,i.jsxs)("div",{className:"lds-roller",children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]})})}},3511:function(){},3733:function(){}},function(e){e.O(0,[750,396,971,596,744],function(){return e(e.s=5530)}),_N_E=e.O()}]);