(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{8064:function(e,t,s){Promise.resolve().then(s.bind(s,6020))},6020:function(e,t,s){"use strict";s.r(t);var a=s(7437),n=s(1358),i=s(73);s(6820);var r=s(9222),l=s(2265);t.default=()=>{let[e,t]=(0,l.useState)(),s=async()=>{let{data:e}=await r.Z.get("/api/posts?count=true",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});t(e)},c=async()=>{let{data:e}=await r.Z.get("/api/about",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});d(e)};(0,l.useEffect)(()=>{e||(s(),c())},[e]);let[o,d]=(0,l.useState)(""),u=async e=>{e.preventDefault();let{data:t,status:s}=await r.Z.post("/api/about",{text:o},{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});d(t)};return(0,a.jsxs)("div",{id:"admin",children:[(0,a.jsxs)("div",{className:"cards",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"title",children:"Квартиры"}),(0,a.jsx)("div",{className:"number",children:e?e.apartments>0?e.apartments:0:(0,a.jsx)(i.Z,{small:!0})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"title",children:"Дома"}),(0,a.jsx)("div",{className:"number",children:e?e.houses>0?e.houses:0:(0,a.jsx)(i.Z,{small:!0})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"title",children:"Коммерческие недвижимости"}),(0,a.jsx)("div",{className:"number",children:e?e.commercials>0?e.commercials:0:(0,a.jsx)(i.Z,{small:!0})})]})]}),(0,a.jsxs)("div",{className:"about-content",children:[(0,a.jsx)("div",{className:"heading",children:"О нас"}),(0,a.jsx)(n.Z,{value:o,handleChange:e=>{d(e)}},"rich1"),(0,a.jsxs)("div",{className:"btns",children:[(0,a.jsx)("div",{className:"btn reset",onClick:e=>{e.preventDefault(),c()},children:"Сбросить изменения"}),(0,a.jsx)("div",{className:"btn save",onClick:u,children:"Сохранить"})]})]})]})}},1358:function(e,t,s){"use strict";var a=s(7437),n=s(2265),i=s(4360),r=s(8864),l=s.n(r);s(5159),s(3888);let c=l()(()=>Promise.all([s.e(335),s.e(354)]).then(s.t.bind(s,6015,23)).then(e=>e.Editor),{loadableGenerated:{webpack:()=>[6015]},ssr:!1});t.Z=e=>{let{value:t=null,handleChange:s}=e,[r,l]=(0,n.useState)(""),[o,d]=n.useState(()=>{i.EditorState.createEmpty()});return(0,n.useEffect)(()=>{t&&!r&&(l(t),function(e){try{return JSON.parse(e)&&!!e}catch(e){return!1}}(t)?d(i.EditorState.createWithContent((0,i.convertFromRaw)(JSON.parse(t)))):d(i.EditorState.createWithContent(i.ContentState.createFromBlockArray((0,i.convertFromHTML)("<p>".concat(t,"</p>"))))))},[t]),(0,a.jsx)("div",{className:"textarea",children:(0,a.jsx)(c,{locale:"ru",editorState:o,onEditorStateChange:e=>{d(e);let t=e.getCurrentContent();s(JSON.stringify((0,i.convertToRaw)(t)))},wrapperClassName:"wrapper-class",toolbarClassName:"toolbar-class",editorClassName:"editor-class",toolbar:{options:["inline","blockType","fontSize","fontFamily","textAlign","link","emoji","remove","history"]}})})}},73:function(e,t,s){"use strict";var a=s(7437);s(3733),t.Z=e=>{let{small:t=!1}=e;return(0,a.jsx)("div",{className:"loading ".concat(t?"small":""),children:(0,a.jsxs)("div",{className:"lds-roller",children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})})}},6820:function(){},5159:function(){},3733:function(){}},function(e){e.O(0,[750,123,971,596,744],function(){return e(e.s=8064)}),_N_E=e.O()}]);