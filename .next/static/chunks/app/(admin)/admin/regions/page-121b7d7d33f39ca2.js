(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{8005:function(e,s,n){Promise.resolve().then(n.bind(n,8873))},8873:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var t=n(9268);n(6006);var i=e=>{let{formData:s,setFormData:n,clear:i,handleSubmit:r}=e,l=e=>{let{name:t,value:i}=e.currentTarget;if("housings"===t){let{checked:t}=e.currentTarget,{housings:r}=s;t?n({...s,housings:[...r,i]}):n({...s,housings:r.filter(e=>e!==i)})}else n({...s,[t]:i})};return(0,t.jsxs)("form",{id:"regionForm",className:"".concat(s._id?"edit":""),onSubmit:r,children:[(0,t.jsx)("div",{className:"heading",children:s._id?"Изменить Район":"Добавить Район"}),(0,t.jsxs)("div",{className:"inputs",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Название"}),(0,t.jsx)("input",{type:"text",name:"name",value:s.name,onChange:l})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Короткое название"}),(0,t.jsx)("input",{type:"text",name:"short",value:s.short,onChange:l})]})]}),(0,t.jsxs)("div",{className:"bottom",children:[(0,t.jsx)("div",{className:"btn clear",onClick:i,children:s._id?"Отменить":"Очистить"}),(0,t.jsx)("input",{className:"btn save",type:"submit",value:"".concat(s._id?"Изменить":"Добавить")})]})]})},r=n(3237);n(309),n(5846);let{default:l}=n(2976),{useState:a,useEffect:c}=n(6006),d={name:"",short:""};var o=()=>{let[e,s]=a(d),[n,o]=a(null),h=async()=>{let{data:e}=await l.get("/api/regions",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});o(e)};c(()=>{n||h()},[n]);let u=e=>{s(e)},x=async s=>{if(s.preventDefault(),e._id){let{data:s}=await l.patch("/api/regions",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});o(s)}else{let{data:s}=await l.post("/api/regions",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});o(s)}j(s)},j=e=>{e.preventDefault(),s(d)};return(0,t.jsxs)("div",{id:"regions",children:[(0,t.jsx)("div",{className:"heading",children:"Районы"}),(0,t.jsx)(i,{formData:e,setFormData:s,clear:j,handleSubmit:x}),(0,t.jsx)("div",{className:"regions",children:n?n.length>0?(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"№"}),(0,t.jsx)("th",{children:"Название"}),(0,t.jsx)("th",{children:"Короткое название"}),(0,t.jsx)("th",{children:"Действие"})]})}),(0,t.jsx)("tbody",{children:n.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:Number(s)+1}),(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.short}),(0,t.jsx)("td",{children:(0,t.jsx)("div",{className:"action",onClick:s=>{s.preventDefault(),u(e)},children:"Изменить"})})]},s))})]}):(0,t.jsx)("div",{className:"none",children:"NONE"}):(0,t.jsx)(r.Z,{})})]})}},3237:function(e,s,n){"use strict";var t=n(9268);n(9338),s.Z=()=>(0,t.jsx)("div",{className:"loading",children:(0,t.jsxs)("div",{className:"lds-roller",children:[(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{}),(0,t.jsx)("div",{})]})})},309:function(){},9338:function(){}},function(e){e.O(0,[815,477,670,253,769,744],function(){return e(e.s=8005)}),_N_E=e.O()}]);