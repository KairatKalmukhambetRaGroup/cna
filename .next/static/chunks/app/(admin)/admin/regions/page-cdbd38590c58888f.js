(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{8350:function(e,s,t){Promise.resolve().then(t.bind(t,6211))},6211:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(7437),i=t(2265),r=e=>{let{formData:s,setFormData:t,clear:i,handleSubmit:r}=e,l=e=>{let{name:n,value:i}=e.currentTarget;if("housings"===n){let{checked:n}=e.currentTarget,{housings:r}=s;n?t({...s,housings:[...r,i]}):t({...s,housings:r.filter(e=>e!==i)})}else t({...s,[n]:i})};return(0,n.jsxs)("form",{id:"regionForm",className:"".concat(s._id?"edit":""),onSubmit:r,children:[(0,n.jsx)("div",{className:"heading",children:s._id?"Изменить Район":"Добавить Район"}),(0,n.jsxs)("div",{className:"inputs",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Название"}),(0,n.jsx)("input",{type:"text",name:"name",value:s.name,onChange:l})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Короткое название"}),(0,n.jsx)("input",{type:"text",name:"short",value:s.short,onChange:l})]})]}),(0,n.jsxs)("div",{className:"bottom",children:[(0,n.jsx)("div",{className:"btn clear",onClick:i,children:s._id?"Отменить":"Очистить"}),(0,n.jsx)("input",{className:"btn save",type:"submit",value:"".concat(s._id?"Изменить":"Добавить")})]})]})},l=t(73);t(3211);var a=t(9222);let c={name:"",short:""};var d=()=>{let[e,s]=(0,i.useState)(c),[t,d]=(0,i.useState)(null),o=async()=>{let{data:e}=await a.Z.get("/api/regions",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});d(e)};(0,i.useEffect)(()=>{t||o()},[t]);let h=e=>{s(e)},u=async s=>{if(s.preventDefault(),e._id){let{data:s}=await a.Z.patch("/api/regions",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});d(s)}else{let{data:s}=await a.Z.post("/api/regions",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});d(s)}x(s)},x=e=>{e.preventDefault(),s(c)};return(0,n.jsxs)("div",{id:"regions",children:[(0,n.jsx)("div",{className:"heading",children:"Районы"}),(0,n.jsx)(r,{formData:e,setFormData:s,clear:x,handleSubmit:u}),(0,n.jsx)("div",{className:"regions",children:t?t.length>0?(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"№"}),(0,n.jsx)("th",{children:"Название"}),(0,n.jsx)("th",{children:"Короткое название"}),(0,n.jsx)("th",{children:"Действие"})]})}),(0,n.jsx)("tbody",{children:t.map((e,s)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:Number(s)+1}),(0,n.jsx)("td",{children:e.name}),(0,n.jsx)("td",{children:e.short}),(0,n.jsx)("td",{children:(0,n.jsx)("div",{className:"action",onClick:s=>{s.preventDefault(),h(e)},children:"Изменить"})})]},s))})]}):(0,n.jsx)("div",{className:"none",children:"NONE"}):(0,n.jsx)(l.Z,{})})]})}},73:function(e,s,t){"use strict";var n=t(7437);t(3733),s.Z=()=>(0,n.jsx)("div",{className:"loading",children:(0,n.jsxs)("div",{className:"lds-roller",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})})},3211:function(){},3733:function(){}},function(e){e.O(0,[750,971,596,744],function(){return e(e.s=8350)}),_N_E=e.O()}]);