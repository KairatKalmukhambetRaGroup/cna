(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{6072:function(e,t,s){Promise.resolve().then(s.bind(s,868))},868:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(7437),i=s(9222),a=s(2265),c=s(73),l=s(1396),r=s.n(l);s(4421);let d={name:""};var o=()=>{let[e,t]=(0,a.useState)(d),[s,l]=(0,a.useState)(null),o=async()=>{let{data:e}=await i.Z.get("/api/phonebook/category",{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});l(e)};(0,a.useEffect)(()=>{s||o()},[s]);let u=e=>{t(e)},x=e=>{e.preventDefault(),t(d)},j=async t=>{if(t.preventDefault(),e._id){let{data:t}=await i.Z.patch("/api/phonebook/category",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});l(t)}else{let{data:t}=await i.Z.post("/api/phonebook/category",e,{validateStatus:function(e){return!0},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}});l(t)}x(t)};return(0,n.jsxs)("div",{id:"phonebookcategories",children:[(0,n.jsx)("div",{className:"heading",children:"Справочник - Категории"}),(0,n.jsx)(h,{formData:e,setFormData:t,clear:x,handleSubmit:j}),(0,n.jsxs)("table",{className:"categories",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"№"}),(0,n.jsx)("th",{children:"Название"}),(0,n.jsx)("th",{children:"Действие"})]})}),(0,n.jsx)("tbody",{children:s?s.length>0?s.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:Number(t)+1}),(0,n.jsx)("td",{children:e.name}),(0,n.jsxs)("td",{className:"actions",children:[(0,n.jsx)(r(),{className:"action",href:"/admin/phonebook/category/".concat(e._id),children:"Контакты"}),(0,n.jsx)("div",{className:"action",onClick:t=>{t.preventDefault(),u(e)},children:"Изменить"})]})]},t)):(0,n.jsx)("tr",{children:(0,n.jsx)("td",{className:"center",colSpan:3,children:" Нет категории "})}):(0,n.jsx)("tr",{children:(0,n.jsxs)("td",{className:"center",colSpan:3,children:[" ",(0,n.jsx)(c.Z,{})," "]})})})]})]})};let h=e=>{let{formData:t,setFormData:s,clear:i,handleSubmit:a}=e;return(0,n.jsxs)("form",{id:"categoryForm",className:t._id?"edit":"",onSubmit:a,children:[(0,n.jsx)("div",{className:"heading",children:t._id?"Изменить Категорию":"Добавить Категорию"}),(0,n.jsxs)("div",{className:"inputs",children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Название"}),(0,n.jsx)("input",{type:"text",name:"name",value:t.name,onChange:e=>{let{name:n,value:i}=e.currentTarget;s({...t,[n]:i})}})]}),(0,n.jsx)("div",{className:"btn clear",onClick:i,children:t._id?"Отменить":"Очистить"}),(0,n.jsx)("input",{className:"btn save",type:"submit",value:"".concat(t._id?"Изменить":"Добавить")})]})]})};var u=()=>(0,n.jsx)(o,{})},73:function(e,t,s){"use strict";var n=s(7437);s(3733),t.Z=e=>{let{small:t=!1}=e;return(0,n.jsx)("div",{className:"loading ".concat(t?"small":""),children:(0,n.jsxs)("div",{className:"lds-roller",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})})}},4421:function(){},3733:function(){},1396:function(e,t,s){e.exports=s(6685)}},function(e){e.O(0,[750,685,971,596,744],function(){return e(e.s=6072)}),_N_E=e.O()}]);